# Отчет по практической части курса "Инженер облачных сервисов"
Данный отчет представляет собой документацию процесса выполнения практических задач из курса. Блоки с теорией не заносятся в документацию

## Глава 01. Начало работы в облаке

### Создание виртуальной машины и подеключение к ней
* Для начала создадим нашу первую виртуальную машину (далее ВМ) через конструктор виртуальных машин. Для этого нажмем кнопку "Создать ВМ" на странице консоли Yandex Cloud, после чего в открывшемся окне повторим действия из курса. Советую поставить галочку напротив "Дополнительно: Прерываемая", поскольку в этом слуучае машина будет жрать меньше ресурсов, которые у нас и так ограничены, а на ее работоспособности это никак не скажется

    ![frst](img/pic1_vm_creation.png)
    ![second](img/pic2_vm_creation.png)

* В разделе "Доступ" необходимо указать логин администратора (далее мы часто будем взаимодействовать с ним), а ниже - ssh ключ от нашего родного терминала. Чтобы сгенерировать новый ключ, необходимо воспользоваться командой ["ssh-keygen -t ed25519"] (данный ключ представляет собой укороченную запись обычного ключа)

    ![third](img/pic3_ssh_key_generation.png)

* При создании ключа оставьте все диалоговые окна пустыми (просто жмите клавишу Enter, пока они не перестанут появляться). Поздравляю!! Вы создали свой первый shh ключ (вернее, сразу 2, поскольку одновременно создается приватный и публичный ключ, о чем расскажу далее), который сохранен в папку [*.shh/*]. Теперь необходимо прочитать содержимое ключа при помощи утилиты [*cat*] (если у вас нет данной утилиты, воспользуйтесь командой [*sudo apt-get install cat*]). Для этого укажем полный путь до файла [*cat ~/.ssh/id_ed25519.pub*]. Теперь перенесем наш ключ в поле добавления пользователя, чтобы получить возможность соединяться с машиной через протокол ssh

* Теперь давайте попробуем подключиться к машине, указав ее публичный IP, который можно найти напротив названия машины в консоле ВМ. Для этого пропишем следующую команду: [*ssh <логин>@<публичный IP машины>*]

    ![forth](img/pic4_ssh_connect.png)

* Также уберем пароль у администратора, чтобы не вводить его при каждом действии (это очень-очень плохая практика, но в учебных целях можно). Для этого воспользуемся командой [*passwd <логин>*]

    ![fiveth](img/pic5_passwd.png)

* Теперь самостоятельно пропишите команды [*sudo apt-get update*] и [*sudo apt-get upgrade*], чтобы установить более новые версии уже установленных утилит

### Получение доступа к серийной консоли

* Для подключения к серийной консоли воспользуемся следующей командой: [*ssh -t -p 9600 -o IdentitiesOnly=yes -i ~/.ssh/<имя закрытого ключа> <ID виртуальной машины>.<имя пользователя>@serialssh.cloud.yandex.net*]

    ![sixth](img/pic6_service_connect.png)

### Создаем ВМ с 5% vCPU и учимся использовать мониторинг

* Для начала создадим ВМ с требуемыми параметрмаи

    ![seven](img/pic7_monitoring_create.png)
    ![eight](img/pic8_monitoring_create.png)
    ![nine](img/pic9_monitoring_create.png)

* Теперь нагрузим машину, чтобы удостовериться, что логирование идет как надо. Для этого подключимся к машине через shh и создадим пару файлов


    ![ten](img/pic10_connect_monitoring.png)

* Теперь првоерим, как поживают логи

    ![eleven](img/pic11_check_monitoring.png)

* Как можно заметить, графики отличаются от того, что было в начале. Если вам интересны конкретные цифры по загруженности машины в определенный момент времени, просто наведите курсор на граф

* На этом заканчивается часть с мониторингом. Можете удалить машину

### Практическая работа. Создание новой сети с подсетями и ВМ

* Для начала перейдем на страницу сервиса Virtual Private Cloud и нажмем на кнопку *Создать сеть*. Далее создадим сеть с говорящим названием

    ![thirteen](img/pic13.png)

* В результате будут созданы 3 подсети: *my-network-ru-central1-a*, *my-network-ru-central1-b*, *my-network-ru-central1-c*. Теперь создадим еще одну подсеть с маской /28 по заданнмы правилам

    ![forteen](img/pic14_create_network.png)

* Теперь создадим ВМ, которая будет выполнять роль веб-сервера по заданным правилам. Удостоверьтесь, что в блоке *Сетевые настройки* в параметре *Подсеть* выбрали подсеть, которую мы создавали ранее

    ![fiveteen](img/pic15_web_server.png)
    ![sixteen](img/pic16_web_server.png)

* Теперь проверим, что машина правильно настроена и попробуем достучаться до нее через *ping*

    ![seventeen](img/pic17_ping_local_global.png)

* Поздравляю!! Если пинг проходит, вы верно настроили машину и правильно выполнили все предшествующие этапы. Если что-то пошло не так - повторите действия заново

### Практическая работа. Создаем группу безопасности и открываем доступ к серверу

* Чтобы создать группу безопасности, перейдите по ссылке https://console.cloud.yandex.ru/link/vpc/security-groups, после чего нажмите на кнопку *Создать группу*. Нажмите на кнопку, после чего придумайте говорящее название для своей группы. В моем случае она называется *my-network-security*. Далее в блоке *Правила* укажем несколько правил для нашей группы для входящего и исходящего трафика:

    ![eighteen](img/pic18_firewall.png)
    ![nineteen](img/pic19_firewall.png)
    ![twenty](img/pic20_firewall.png)
    ![twenty one](img/pic21_firewall.png)

* Теперь проверим наши группы, где должна отобрадаться недавно созданная группа *my-network-security* с 5 правилами

    ![twenty two](img/pic22_networks.png)

* Далее создадим сервер, расположенный в нашей новой сети

    ![twenty three](img/pic23_server.png) 

* Теперь установим на сервер *nginx* командой [*sudo apt-get install nginx*]
    ![twenty four](img/pic24_install_nginx.png)

* Перейдем в браузере по публичному адресу сервера и проверим, что *nginx* работает

    ![twenty five](img/pic25_test_nginx.png)

* Поздравляю с завершением настройки группы безопасности и установки *nginx*

### Практическая работа. Знакомство с Yandex Cloud CLI

* Для начала работы с Yandex Cloud CLI необходимо зарегистрироваться в ней. 




## Глава 02. Начало работы в облаке
## Глава 03. Начало работы в облаке
## Глава 04. Начало работы в облаке
## Глава 05. Начало работы в облаке
## Глава 06. Начало работы в облаке

